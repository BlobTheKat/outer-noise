const {instance: {exports}, module} = await WebAssembly.instantiate(Uint8Array.from(atob('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'), c => c.charCodeAt()))
export const seedArray = new Int32Array(exports.memory.buffer, +exports.seed, 8)
const ch = new Int32Array(exports.memory.buffer, +exports.chunk, 128), off = new Float32Array(exports.memory.buffer, +exports.offsets, 25)

export function getNoise(offs, x, y, localSeed = 0){
	off.set(offs)
	exports.fillNoise(x, y, localSeed)
	return ch.slice()
}

const enc = new TextEncoder(), {imul} = Math
export function setSeed(str){
	if(str instanceof ArrayBuffer) return void(seedArray.set(new Int32Array(seedArray, 0, 8)))
	const arr = enc.encode(str+'\0')
	seedArray.fill(0)
	let x = 0xe336beb9|0, i = 0
	let coeff = 1597334673
	// Quick bijective hash
	for(; i < arr.length; i += 4){
		const y = arr[i]<<24|arr[i+1]<<16|arr[i+2]<<8|arr[i+3]
		x = imul(x ^ imul(y, coeff), 0x7feb352d)
		x ^= x >> 15
		coeff += 0x4319fa62
		seedArray[(i>>2)&7] ^= x
	}
	let j = i >>= 2; coeff = 1
	do{
		x = imul(x, coeff += 0x6eeb828a)
		x ^= x >> 15
		seedArray[j = j+1&7] ^= x
	}while(j != i)
}

export function getSeedHash(){
	let x = ''
	for(const i of seedArray) x += (i>>>0).toString(16).padStart(8, '0')
	return x
}